[{"function":"function login(_a) {\r\n    var event = _a.event, redirectTo = _a.redirectTo;\r\n    var isValid = event.isValid, jwtToken = event.jwtToken, refreshToken = event.refreshToken;\r\n    var url = redirectTo.url;\r\n    if (isValid) {\r\n        var decodedToken = JSON.parse(window.atob(jwtToken.split('.')[1]));\r\n        if (decodedToken && decodedToken.locale) {\r\n            document.cookie = \"BBLocale=\" + decodedToken.locale;\r\n        }\r\n        localStorage.setItem('TOKEN', jwtToken);\r\n        localStorage.setItem('REFRESH_TOKEN', refreshToken);\r\n        history.push(url);\r\n    }\r\n}\r\n","name":"login","parameters":{"event":"Event","redirectTo":"Page"},"type":"Void"},{"function":"function logout(_a) {\r\n    var event = _a.event, redirectTo = _a.redirectTo;\r\n    var url = redirectTo.url;\r\n    localStorage.removeItem('TOKEN');\r\n    localStorage.removeItem('REFRESH_TOKEN');\r\n    if (url) {\r\n        history.push(url);\r\n    }\r\n}\r\n","name":"logout","parameters":{"event":"Event","redirectTo":"Page"},"type":"Void"},{"function":"function navigateToOutputUrl(_a) {\r\n    var event = _a.event;\r\n    if (typeof event !== 'string') {\r\n        console.warn('Event passed to navigateToOutputUrl is not a string');\r\n        return;\r\n    }\r\n    if (event.match(/https?:\\/\\//)) {\r\n        window.location.href = event;\r\n    }\r\n    if (event.charAt(0) === '/') {\r\n        history.push(event);\r\n    }\r\n    console.warn('Event passed to navigateToOutputUrl is not a valid url or path');\r\n}\r\n","name":"navigateToOutputUrl","parameters":{"event":"Event"},"type":"Void"},{"function":"function redirect(_a) {\r\n    var event = _a.event, redirectTo = _a.redirectTo;\r\n    var url = redirectTo.url;\r\n    if (typeof event === 'object' &&\r\n        event !== null &&\r\n        typeof event.id === 'number') {\r\n        url = redirectTo.resolvePath(event);\r\n    }\r\n    history.push(url);\r\n}\r\n","name":"redirect","parameters":{"event":"Event","redirectTo":"Page"},"type":"Void"},{"function":"function setCurrentRecord(_a) {\r\n    var event = _a.event, argument = _a.argument;\r\n    return argument;\r\n}\r\n","name":"setCurrentRecord","parameters":{"event":"Event","argument":"Number"},"type":"Number"},{"function":"function setLanguage(_a) {\r\n    var event = _a.event;\r\n    if (typeof event !== 'string') {\r\n        return;\r\n    }\r\n    var locale = event.toLowerCase().trim();\r\n    var currentCookies = document.cookie.split('; ');\r\n    var BBLocaleIndex = currentCookies.indexOf(\"BBLocale=\" + locale);\r\n    var hasCookie = BBLocaleIndex > -1;\r\n    if (!hasCookie) {\r\n        document.cookie = \"BBLocale = \" + locale;\r\n        window.location.reload();\r\n    }\r\n}\r\n","name":"setLanguage","parameters":{"event":"Event"},"type":"Void"}]
